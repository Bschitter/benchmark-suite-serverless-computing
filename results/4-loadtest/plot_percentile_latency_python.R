x <- read.csv("percentile_latency_python.csv",header=T,sep=",")
x <- t(x)
aws_node_50 <- as.numeric(x[2,1:32])
aws_node_95 <- as.numeric(x[3,1:32])
aws_node_99 <- as.numeric(x[4,1:32])
azure_node_50 <- as.numeric(x[5,1:32])
azure_node_95 <- as.numeric(x[6,1:32])
azure_node_99 <- as.numeric(x[7,1:32])
google_node_50 <- as.numeric(x[8,1:32])
google_node_95 <- as.numeric(x[9,1:32])
google_node_99 <- as.numeric(x[10,1:32])
ibm_node_50 <- as.numeric(x[11,1:32])
ibm_node_95 <- as.numeric(x[12,1:32])
ibm_node_99 <- as.numeric(x[13,1:32])
png(file = "plot_percentile_latency_python.png", width=1200, height=700, units="px", pointsize=24)
par(mar=c(4,5,2,0)+.1)
plot(aws_node_50, type="l", lwd=2, lty=1, col = "#E69F00", xlab = expression(bold("requests per second")), ylab = "", main = "Python percentiles 50% - 95% - 99%",ylim=c(0,50000), xaxt="n", las=1, frame=FALSE)
axis(1, at=1:32, labels=c("10", "25", "50", "100", "200", "400", "800", "1000", "10", "25", "50", "100", "200", "400", "800", "1000", "10", "25", "50", "100", "200", "400", "800", "1000", "10", "25", "50", "100", "200", "400", "800", "1000"), las=2)
lines(aws_node_95,lty=2, type = "l", lwd=2, col = "#E69F00")
lines(aws_node_99,lty=3, type = "l", lwd=2, col = "#E69F00")
lines(azure_node_50,lty=1, type = "l", lwd=2, col = "#56B4E9")
lines(azure_node_95,lty=2, type = "l", lwd=2, col = "#56B4E9")
lines(azure_node_99,lty=3, type = "l", lwd=2, col = "#56B4E9")
lines(google_node_50,lty=1, type = "l", lwd=2, col = "#00BA38")
lines(google_node_95,lty=2, type = "l", lwd=2, col = "#00BA38")
lines(google_node_99,lty=3, type = "l", lwd=2, col = "#00BA38")
lines(ibm_node_50,lty=1, type = "l", lwd=2, col = "#E33939")
lines(ibm_node_95,lty=2, type = "l", lwd=2, col = "#E33939")
lines(ibm_node_99,lty=3, type = "l", lwd=2, col = "#E33939")
abline(v=c(8.5,16.5,24.5), col="gray")
grid (NULL,NULL,nx=0,col = "lightgray")
legend(1, 44500, legend=c("AWS", "Azure", "Google", "IBM", "99%", "95%", "50%"),
col=c("#E69F00", "#56B4E9", "#00BA38", "#E33939", "black", "black", "black"), lwd=2,
lty=c(1,1,1,1,3,2,1), cex=0.8)
title(ylab = expression(bold("time (ms)")), mgp=c(3.5,1,1))

